.MODEL SMALL

.CODE

ORG 100H

BEGIN:

;JMP INIT
	OLDIP DW ?
	OLDCS DW ?


RESI:	
	PUSH AX
	PUSH BX
	PUSH CX
	PUSH DX
	PUSH DI
	PUSH SI
	PUSH ES
          
	MOV AH,02H        ;GETTING CLK VALUE IN CX HRS:CH,MIN:CL
	INT 1AH

	MOV AX,0B800H     ;DISPLAY CLK AT A PARTICULAR POSN ON SCREEN
	MOV ES,AX
	MOV DI,3960

	MOV BX,CX
	MOV CL,04
	MOV CH,06

BACK:
	ROL BX,CL
	MOV AL,BL
	AND AL,0FH
	ADD AL,30H
	MOV AH,17H
	MOV ES:[DI],AX
	INC DI
	INC DI
	CMP CH,05
	
	JNE SKIP  
	
	MOV AL,':'
	MOV AH,97H
	MOV ES:[DI],AX
	INC DI
	INC DI

SKIP:
	CMP CH,03
	JNE SKIP1
	MOV AL,':'
	MOV AH,97H
	MOV ES:[DI],AX
	INC DI
	INC DI
	MOV BX,DX

SKIP1:

	DEC CH
	JNZ BACK

	POP ES
	POP SI
	POP DI
	POP DX
	POP CX
	POP BX	
	POP AX	

JMP DWORD PTR CS:OLDIP

INIT:
	MOV AX,CS
	MOV DS,AX

	CLI
	
	MOV AL,08H
	MOV AH,35H
	INT 21H
	
	MOV WORD PTR CS:OLDIP,BX
	MOV WORD PTR CS:OLDCS,ES

	MOV AL,08H
	LEA DX,RESI
	MOV AH,25H
	INT 21H

	LEA DX,INIT
	MOV AH,31H
	STI
	INT 21H

END BEGIN
